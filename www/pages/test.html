<div id="map_canvas">
  <table style="width:98%;margin:1%;">
    <tr>
      <td width="70%"><input id="query" style="width: 100%" /></td>
      <td width="30%"><button id="searchBtn">Search</button></td>
    </tr>
  </table>
</div>

<script type="text/javascript">

function onPageLoaded(map) {
  map.setDiv($("#map_canvas")[0]);
  $("#map_canvas").css({
    "position": "relative"
  });
  $("#searchBtn").click(function() {
    var request = {
      'address': $("#query").val()
    };
    plugin.google.maps.Geocoder.geocode(request, function(results) {
      if (results.length) {
        var backgroundDiv = $("<div>").css({
          "position": "absolute",
          "left": 0,
          "top": 0,
          "width": "100%",
          "height": "100%",
          "background-color": "rgba(0, 0, 0, 0.5)"
        });
        
        $("#map_canvas").append(backgroundDiv);
        
        backgroundDiv.click(function() {
          alert("OK");
        });
        
        /*
        var result = results[0];
        
        
        var position = result.position; 
    
        map.addMarker({
          'position': position,
          'title':  JSON.stringify(result.position)
        }, function(marker) {
          map.animateCamera({
            'target': position,
            'zoom': 13
          }, function() {
            marker.showInfoWindow();
          });
        });
        */
      } else {
        alert("Not found");
      }
    });
  });
}
</script>
