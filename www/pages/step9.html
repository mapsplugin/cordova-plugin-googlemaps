<div class="container">
  <div class="description">
    <strong>Step9: Load data from KML file</strong>
    <p>PhoneGap-GoogleMaps-Plugin has original KML parser. You can load your KML file.</p>
    
    <pre class="prettyprint lang-js">
map.addKmlOverlay({
  'url': "www/kml/shizuoka.kml"
}, onKmlAdded);

function onKmlAdded(kmlOverlay) {
  map.animateCamera({
    target: new plugin.google.maps.LatLng(34.795338,138.179594),
    zoom: 9
  }, onCameraUpdated);
}
</pre>
  </div>
  
</div>
<button id="execBtn">Execute</button>
<button id="nextBtn">Next</button>

<script type="text/javascript">
$(document).one("pageLoad", function(evt) {
  
  $("#execBtn").one("touchstart click", function() {
    $(this).remove();
  
    $(".container").fadeOut(function() {
      $(".container").remove();
      $("#execBtn").remove();
    });
  });
  
  $("#execBtn").one("touchstart click", function() {
    map.addKmlOverlay({
      'url': "www/kml/shizuoka.kml"
    }, onKmlAdded);
    
    function onKmlAdded(kmlOverlay) {
      map.animateCamera({
        target: new plugin.google.maps.LatLng(34.795338,138.179594),
        zoom: 9
      }, onCameraUpdated);
    }

    function onCameraUpdated() {
      $("#nextBtn").show();
      map.refreshLayout();
    }
  });
    
  $("#nextBtn").one("touchstart click", function() {
    $(this).remove();
    loadPage("step10");
  });
  
});
</script>